<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>p-j-s by pjsteam</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">p-j-s</h1>
        <p class="header">A JavaScript library that leverages Web Workers to provide parallelism when working with Typed Arrays</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/pjsteam/pjs/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/pjsteam/pjs/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/pjsteam/pjs">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/pjsteam">pjsteam</a></p>


      </header>
      <section>
        <p>A library to parallelize <code>map</code>, <code>filter</code> and <code>reduce</code> operations on typed arrays through the use of Web Workers.</p>

<h2>
<a id="installing" class="anchor" href="#installing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing</h2>

<pre><code>npm i p-j-s
</code></pre>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>It's as simple as:</p>

<div class="highlight highlight-js"><pre><span class="pl-k">var</span> pjs <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>p-j-s<span class="pl-pds">'</span></span>);

pjs.init({ maxWorkers<span class="pl-k">:</span> <span class="pl-c1">4</span> }); <span class="pl-c">// initialize the library</span>

pjs(<span class="pl-k">new</span> <span class="pl-en">Uint32Array</span>([<span class="pl-c1">1</span>,<span class="pl-c1">2</span>,<span class="pl-c1">3</span>,<span class="pl-c1">4</span>]))
.filter(<span class="pl-k">function</span>(<span class="pl-smi">e</span>){
  <span class="pl-k">return</span> e <span class="pl-k">%</span> <span class="pl-c1">2</span> <span class="pl-k">===</span> <span class="pl-c1">0</span>;
}).map(<span class="pl-k">function</span>(<span class="pl-smi">e</span>){
  <span class="pl-k">return</span> e <span class="pl-k">*</span> <span class="pl-c1">2</span>;
}).seq().then(<span class="pl-k">function</span> (<span class="pl-smi">result</span>){
    <span class="pl-c">// result is [4,8] a new Uint32Array</span>

    <span class="pl-c">// if we are not using the library any more cleanup once we are done</span>
    pjs.terminate();
});</pre></div>

<h2>
<a id="operations" class="anchor" href="#operations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Operations</h2>

<h3>
<a id="mapmapper" class="anchor" href="#mapmapper" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>map(mapper)</code>
</h3>

<p>The <code>map</code> operation invokes the <code>mapper</code> function for each element of the wrapped <code>TypedArray</code>. It produces a new array of the same type where each element is the result of the <code>mapper</code> function.</p>

<h3>
<a id="filterpredicate" class="anchor" href="#filterpredicate" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>filter(predicate)</code>
</h3>

<p>The <code>filter</code> operation invokes the <code>predicate</code> function for each element of the wrapped <code>TypedArray</code>. It produces a new array of the same type which only includes the original elements for which the <code>predicate</code> function returns <code>true</code> (or a <em>truthy</em> value).</p>

<h3>
<a id="reducereducer-seed-identityreducer-identity" class="anchor" href="#reducereducer-seed-identityreducer-identity" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>reduce(reducer, seed[, identityReducer], identity)</code>
</h3>

<p>The <code>reduce</code> operation invokes the <code>reducer</code> function for each element of the wrapped <code>TypedArray</code> passing the value of the previous invocation as the first parameter (<code>current</code>) and the element as the second one.</p>

<p>The reduction is first performed in the Web Workers using <code>identity</code> as the intial value for <code>current</code>. The results from the Web Workers are collected and a new reduction is performed on them using <code>seed</code> and <code>identityReducer</code> function.</p>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h2>

<p>You can find out more by checking out the <a href="https://github.com/pjsteam/pjs/wiki/API">complete API</a> and the How Tos in our <a href="https://github.com/pjsteam/pjs/wiki">wiki</a>.</p>

<h2>
<a id="acknowledgements" class="anchor" href="#acknowledgements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Acknowledgements</h2>

<ul>
<li>Using <a href="https://github.com/mgonto/gulp-browserify-library-seed">this great seed</a> project from <a href="https://twitter.com/mgonto">@mgonto</a>.</li>
<li>
<a href="https://twitter.com/mraleph">@mraleph</a> for <a href="https://github.com/mraleph/irhydra">IR Hydra</a> and the help he provided to use it.</li>
</ul>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
